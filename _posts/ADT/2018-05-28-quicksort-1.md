---
layout: post
title: 快排
date: 2018-05-28
tags: [ADT]
---

## 快速排序

快速排序是霍尔爵士在上世纪60年代发明的一种算法，也是分治策略的一种典型。

将序列分为两个序列，规定，前一个序列任何元素数值上都不能超过后一序列的任意元素。那么在子序列分别递归排序之后，原序列自然有序。

<img src="http://os310ujuc.bkt.clouddn.com/qs.png">

所以只需要完成左小右大的情况，剩下的即可让递归完成。

<img src="http://os310ujuc.bkt.clouddn.com/qs1.png">

轴点：pivot，是序列中的特殊元素，左/右侧的元素，均不比他更大/小。以轴点为界，原序列的划分自然实现：左小右大式的划分。只要找到轴点，即可快速调用递归来进行排序。

重点在partion的实现。

<img src="http://os310ujuc.bkt.clouddn.com/qs2.png">

但是原始序列中，轴点未必存在，而且quicksort必要条件是轴点必定依然定位。另外，对于乱序，在有序序列，所有元素结尾轴点。所谓的快排，就是将所有的元素，逐渐转化为轴点的过程。

### 构造轴点

先要选取一个轴点候选m（通常是序列的首元素），连个指针，将整个序列分为L和G和U，L都不大于m，G都不小于m，U是大小位置，初始位置下，U就是整个序列，lo向后移动，hi向前移动，每次移动，都会将元素放入U中，最后直到lo和hi指向同一个元素，将m替换该元素，那么，m就是轴点。

<img src="http://os310ujuc.bkt.clouddn.com/qs3.png">

### 不变形 单调性

对于子序列U而言，其首元素和末元素都是交替的空闲单元。

<img src="http://os310ujuc.bkt.clouddn.com/qs4.png">
