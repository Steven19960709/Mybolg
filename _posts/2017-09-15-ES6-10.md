---
layout: post
title: 前端进阶知识（78）———— Class 继承
date: 2017-09-15
tags: [JavaScript,ES6]
---

Class主要的功能就是用来继承。之前的都是用来铺垫的。

## Introduction

Class可以通过extends关键字来实现继承，这个比ES5中通过修改原型链的方法实现继承，更加清晰方便。

    class GrandFather{
        constructor(name,age){
            this.name = name;
            this.age = age;
        }
    }
    class father extends Grandfather{
        constructor(name,age,company){
            super(name,age);
            this.company = company;
        }
    }
    let son = new father("Leung",21,"Alibaba")
    son instanceof father // true
    son instanceof GrandFather // true

这段代码，创建了一个grandfather的类，之后father继承了grandfather的所有属性和方法。其中super代表的是调用父级中的constructor(name,age).

这里要注意的是，子类当中必须要调用super方法，如果不调用super,首先子类就得不到this对象，因为子类本身是没有this对象的，它是要继承父类的this对象。第二就是会报错。。。

回忆一下我们之前使用ES5的构造函数创建对象的时候，没有出现这个报错的问题。这是为什么呢？

在ES6中，整个继承机制已经是不一样了，ES5中的继承，是先创建一个子类的this对象，再往里面添加属性和方法（还记得隐式的三个步骤吗？），但是在ES6的class中，实质是先创造父类的实例对象this，在用子类的构造函数去修改this，因此，如果不通过super来获得this的话，就会实现不了继承了。这里也可以知道，super函数必须是要放在constructor下面的第一行，如果你要使用this的话。






